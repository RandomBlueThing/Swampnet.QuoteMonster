<div class="container search">
	<div class="row">
		<div class="col-md-2">
			Text
		</div>
		<div class="col-md-10">
			<input [(ngModel)]="text" />
		</div>
	</div>
	<div class="row">
		<div class="col-md-2">
			Author
		</div>
		<div class="col-md-10">
			<input no-match-found-text="Unknown" auto-complete [(ngModel)]="author" [source]="authors" />
		</div>
	</div>
	<div class="row">
		<div class="col-md-10"></div>
		<div class="col-md-2">
			<button [disabled]="busy" type="button" class="btn btn-primary" (click)="search()">Search</button>
		</div>
	</div>
</div>

<p *ngIf="!data"><em>Loading...</em></p>

<div *ngIf="data" class="results container">
	<div class="result row" *ngFor="let quote of data">
		<div class="col-md-11">
			<h4>{{quote.text}}</h4>
			<em> - {{quote.author}}</em>
		</div>
		<div class="col-md-1">
			<span class="edit glyphicon glyphicon-pencil" [routerLink]="['/edit', quote.id]" *ngIf="quote.canEdit"></span>
		</div>
	</div>
</div>

<span>
	<button [disabled]="busy" type="button" class="btn" (click)="previousPage()">Prev</button>
	<button [disabled]="busy" type="button" class="btn" (click)="nextPage()">Next</button>
</span>

<div>
	<button [disabled]="busy" type="button" class="btn btn-primary" (click)="newQuote()" *ngIf="auth.authenticated()">New</button>
</div>

<div>page: {{page}} busy: {{busy}}</div>
